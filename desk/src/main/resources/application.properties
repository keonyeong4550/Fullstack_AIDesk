spring.application.name=desk

# Primary - MariaDB (?? ??)
spring.jpa.database-platform=org.hibernate.dialect.MariaDBDialect
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.url=jdbc:mariadb://localhost:3306/aisdb
spring.datasource.username=aisdbuser
spring.datasource.password=aisdbuser

spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=true

# Secondary - PostgreSQL (PGVector ??)
pg.datasource.driver-class-name=org.postgresql.Driver
pg.datasource.url=jdbc:postgresql://localhost:5432/postgres
pg.datasource.username=postgres
pg.datasource.password=postgres

spring.servlet.multipart.max-request-size=30MB
spring.servlet.multipart.max-file-size=10MB
com.desk.upload.path=upload

## OpenAI
spring.ai.openai.api-key=${OPENAI_API_KEY:}

# AI demo scenario
ai.demo-mode.enabled=true
ai.demo-mode.scenario-path=data/design_scenario.json

aichat.testMode=true

# Redis
# Refresh Token Storage 설정: redis (기본값) 또는 db
refresh.token.storage=redis
spring.redis.host=localhost
spring.redis.port=6379

# Redis 연결 풀 최적화 (성능 향상)
spring.redis.lettuce.pool.enabled=true
spring.redis.lettuce.pool.max-active=20
spring.redis.lettuce.pool.max-idle=10
spring.redis.lettuce.pool.min-idle=5
spring.redis.lettuce.pool.max-wait=2000ms
spring.redis.lettuce.pool.time-between-eviction-runs=60s

# Redis 타임아웃 설정
spring.redis.timeout=2000ms
spring.redis.lettuce.shutdown-timeout=100ms